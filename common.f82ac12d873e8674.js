"use strict";(self.webpackChunkNG_CRM=self.webpackChunkNG_CRM||[]).push([[592],{9665:(l,c,o)=>{o.d(c,{p:()=>n});var s=o(4650),u=o(5759);let n=(()=>{class i{constructor(e,t,r){this.ProductsService=e,this.elementRef=t,this.renderer=r,this.products=[],this.myObservable=0,this.orderProducts=[]}ngOnInit(){this.products.length&&this.getOrderProductsIds(this.products)}getOrderProductsIds(e){let t=e.map(r=>r.ProductId);t.length&&this.getOrderProductsByIds(t)}getOrderProductsByIds(e){this.ProductsService.getOrderProductsByIdsList(e).subscribe(t=>{t.length&&this.joinquantityToEachPorduct(t)})}joinquantityToEachPorduct(e){let t=e.map(r=>{const d=this.products.find(a=>a.ProductId===r.ProductId);return{...r,...d}});this.calcOrderTotal(t)}calcOrderTotal(e){let t=e.reduce((r,d)=>r+d.Quantity*d.ProductPrice,0);this.isFloat(t)&&t.toString().split(".")[1].length>1&&(t=+t.toFixed(4)),this.renderer.setProperty(this.elementRef.nativeElement,"textContent",t)}isFloat(e){return!!(e%1)}static#t=this.\u0275fac=function(t){return new(t||i)(s.Y36(u.su),s.Y36(s.SBq),s.Y36(s.Qsj))};static#e=this.\u0275dir=s.lG2({type:i,selectors:[["","appCountOrderTotal",""]],inputs:{products:"products"}})}return i})()}}]);